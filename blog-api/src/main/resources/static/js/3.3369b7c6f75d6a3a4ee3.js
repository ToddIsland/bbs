webpackJsonp([3],{"8wPo":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("Q6dk"),n=a("viA7"),c=a("iNxE"),i=a("s8Ph"),s=a("dLd/"),o=a.n(s),l={name:"BlogCategoryTag",created:function(){this.getCategoryOrTagAndArticles()},watch:{$route:"getCategoryOrTagAndArticles"},data:function(){return{defaultAvatar:o.a,ct:{},article:{query:{tagId:"",categoryId:""}}}},computed:{title:function(){return"tag"===this.$route.params.type?this.ct.tagname+" - 标签 - For Fun":this.ct.categoryname+" - 文章分类 - For Fun"}},methods:{getCategoryOrTagAndArticles:function(){var t=this.$route.params.id;"tag"===this.$route.params.type?(this.getTagDetail(t),this.article.query.tagId=t):(this.getCategoryDetail(t),this.article.query.categoryId=t)},getCategoryDetail:function(t){var e=this;Object(i.b)(t).then(function(t){e.ct=t.data}).catch(function(t){"error"!==t&&e.$message({type:"error",message:"文章分类加载失败",showClose:!0})})},getTagDetail:function(t){var e=this;Object(c.b)(t).then(function(t){e.ct=t.data}).catch(function(t){"error"!==t&&e.$message({type:"error",message:"标签加载失败",showClose:!0})})},getArticlesByCategory:function(t){var e=this;Object(n.d)(t).then(function(t){e.articles=t.data}).catch(function(t){"error"!==t&&e.$message({type:"error",message:"文章加载失败",showClose:!0})})},getArticlesByTag:function(t){var e=this;Object(n.e)(t).then(function(t){e.articles=t.data}).catch(function(t){"error"!==t&&e.$message({type:"error",message:"文章加载失败",showClose:!0})})}},components:{ArticleScrollPage:r.a}},u={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"title",rawName:"v-title"}],staticClass:"me-ct-body",attrs:{"data-title":t.title}},[a("el-container",{staticClass:"me-ct-container"},[a("el-main",[a("div",{staticClass:"me-ct-title me-area"},["tag"===this.$route.params.type?[a("img",{staticClass:"me-ct-picture",attrs:{src:t.ct.avatar?t.ct.avatar:t.defaultAvatar}}),t._v(" "),a("h3",{staticClass:"me-ct-name"},[t._v(t._s(t.ct.tagname))])]:[a("img",{staticClass:"me-ct-picture",attrs:{src:t.ct.avatar?t.ct.avatar:t.defaultAvatar}}),t._v(" "),a("h3",{staticClass:"me-ct-name"},[t._v(t._s(t.ct.categoryname))]),t._v(" "),a("p",[t._v(t._s(t.ct.description))])],t._v(" "),a("span",{staticClass:"me-ct-meta"},[t._v(t._s(t.ct.articles)+" 文章")])],2),t._v(" "),a("div",{staticClass:"me-ct-articles"},[a("article-scroll-page",t._b({},"article-scroll-page",t.article,!1))],1)])],1)],1)},staticRenderFns:[]};var g=a("VU/8")(l,u,!1,function(t){a("Fh3q")},null,null);e.default=g.exports},Fh3q:function(t,e){},Q6dk:function(t,e,a){"use strict";var r=a("ada0"),n=a("QbzY"),c=a("viA7"),i={name:"ArticleScrollPage",props:{offset:{type:Number,default:100},page:{type:Object,default:function(){return{}}},query:{type:Object,default:function(){return{}}}},watch:{query:{handler:function(){this.noData=!1,this.articles=[],this.innerPage.pageNumber=1,this.getArticles()},deep:!0},page:{handler:function(){this.noData=!1,this.articles=[],this.innerPage=this.page,this.getArticles()},deep:!0}},created:function(){this.getArticles()},data:function(){return{loading:!1,noData:!1,innerPage:{pageSize:5,pageNumber:1,name:"a.createDate",sort:"desc"},articles:[]}},methods:{load:function(){this.getArticles()},view:function(t){this.$router.push({path:"/view/"+t})},getArticles:function(){var t=this;t.loading=!0,Object(c.c)(t.query,t.innerPage).then(function(e){var a=e.data;a&&a.length>0?(t.innerPage.pageNumber+=1,t.articles=t.articles.concat(a)):t.noData=!0}).catch(function(e){"error"!==e&&t.$message({type:"error",message:"文章加载失败!",showClose:!0})}).finally(function(){t.loading=!1})}},components:{"article-item":r.a,"scroll-page":n.a}},s={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("scroll-page",{attrs:{loading:t.loading,offset:t.offset,"no-data":t.noData},on:{load:t.load}},t._l(t.articles,function(e){return a("article-item",t._b({key:e.id},"article-item",e,!1))}),1)},staticRenderFns:[]};var o=a("VU/8")(i,s,!1,function(t){a("wRUw")},"data-v-2946d9a3",null);e.a=o.exports},iNxE:function(t,e,a){"use strict";e.a=function(){return Object(r.a)({url:"/tags",method:"get"})},e.b=function(t){return Object(r.a)({url:"/tags/detail/"+t,method:"get"})};var r=a("OOvn")},s8Ph:function(t,e,a){"use strict";e.a=function(){return Object(r.a)({url:"/categorys",method:"get"})},e.b=function(t){return Object(r.a)({url:"/categorys/detail/"+t,method:"get"})};var r=a("OOvn")},wRUw:function(t,e){}});
//# sourceMappingURL=3.3369b7c6f75d6a3a4ee3.js.map