webpackJsonp([4],{"3/TF":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("Q6dk"),i=a("viA7"),n={name:"BlogArchive",components:{ArticleScrollPage:r.a},created:function(){this.listArchives()},watch:{$route:function(){this.$route.params.year&&this.$route.params.month&&(this.article.query.year=this.$route.params.year,this.article.query.month=this.$route.params.month)}},data:function(){return{article:{query:{month:this.$route.params.month,year:this.$route.params.year}},archives:[]}},computed:{title:function(){return this.currentArchive+" - 文章归档 - For Fun"},currentArchive:function(){return this.article.query.year&&this.article.query.month?this.article.query.year+"年"+this.article.query.month+"月":"全部"}},methods:{changeArchive:function(t,e){this.$router.push({path:"/archives/"+t+"/"+e})},listArchives:function(){var t=this;Object(i.f)().then(function(e){t.archives=e.data}).catch(function(t){that.$message({type:"error",message:"文章归档加载失败!",showClose:!0})})}}},s={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{directives:[{name:"title",rawName:"v-title"}],attrs:{"data-title":this.title}},[e("el-container",[e("el-main",{staticClass:"me-articles"})],1)],1)},staticRenderFns:[]};var c=a("VU/8")(n,s,!1,function(t){a("q5w5")},"data-v-1db1f0b0",null);e.default=c.exports},Q6dk:function(t,e,a){"use strict";var r=a("ada0"),i=a("QbzY"),n=a("viA7"),s={name:"ArticleScrollPage",props:{offset:{type:Number,default:100},page:{type:Object,default:function(){return{}}},query:{type:Object,default:function(){return{}}}},watch:{query:{handler:function(){this.noData=!1,this.articles=[],this.innerPage.pageNumber=1,this.getArticles()},deep:!0},page:{handler:function(){this.noData=!1,this.articles=[],this.innerPage=this.page,this.getArticles()},deep:!0}},created:function(){this.getArticles()},data:function(){return{loading:!1,noData:!1,innerPage:{pageSize:5,pageNumber:1,name:"a.createDate",sort:"desc"},articles:[]}},methods:{load:function(){this.getArticles()},view:function(t){this.$router.push({path:"/view/"+t})},getArticles:function(){var t=this;t.loading=!0,Object(n.c)(t.query,t.innerPage).then(function(e){var a=e.data;a&&a.length>0?(t.innerPage.pageNumber+=1,t.articles=t.articles.concat(a)):t.noData=!0}).catch(function(e){"error"!==e&&t.$message({type:"error",message:"文章加载失败!",showClose:!0})}).finally(function(){t.loading=!1})}},components:{"article-item":r.a,"scroll-page":i.a}},c={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("scroll-page",{attrs:{loading:t.loading,offset:t.offset,"no-data":t.noData},on:{load:t.load}},t._l(t.articles,function(e){return a("article-item",t._b({key:e.id},"article-item",e,!1))}),1)},staticRenderFns:[]};var o=a("VU/8")(s,c,!1,function(t){a("wRUw")},"data-v-2946d9a3",null);e.a=o.exports},q5w5:function(t,e){},wRUw:function(t,e){}});
//# sourceMappingURL=4.7afb86592ff4b45409bf.js.map